<section class="interstitial" data-background-color="#d35400"
         data-background-image="assets/images/cog-wheels.svg">
	<h1>Creating Custom Endpoints - Introduction</h1>
</section>

<section>
  <h1>Creating Custom Endpoints</h1>
  <p>Three possible approaches to adding endpoints:</p>
  <ul>
    <li>
      <p>Registering an individual new endpoint</p>
      <p>Using <code>register_rest_route()</code>.</p>
    </li>
    <li>
      <p>Registering a new controller</p>
      <p>Group of multiple related endpoints for a same resource.</p>
    </li>
    <li>
      <p>Register a new Custom Post Type or Custom Taxonomy</p>
      <p>WordPress will reuse the existing generic controllers to have this work automatically, just add a <code>'show_in_rest' => true</code> argument to <code>register_post_type()</code></p>
    </li>
  </ul>
</section>

<section>
  <h1>Mapping CPT in REST API</h1>
  <p>Use the following arguments to shape your REST API endpoint:</p>
  <ul>
    <li>
      <p><code>'show_in_rest'</code> (boolean)</p>
      <p>Set to <code>true</code> to have the custom endpoint be created.</p>
    </li>
    <li>
      <p><code>'rest_base'</code> (string)</p>
      <p>This controls the final term used for the endpoint.</p>
      <p>As an example, a <code>'rest_base' => 'books'</code> will create the following endpoint:</p>
      <p><code>https://example.com/wp-json/wp/v2/books</code></p>
    </li>
    <li>
      <p><code>'capability_type'</code> (string)</p>
      <p>Sets required capabilities for both the server manipulations as well as the REST requests. It only needs a slug, WordPress generates the needed declinations automatically.</p>
    </li>
  </ul>
</section>

<section>
  <h1>CPT Controller Customizations</h1>
  <ul>
    <li>
      <p>Default controller <code>WP_REST_Posts_Controller</code></p>
      <p>This controller manages entities that are persisted in the <code>wp_posts</code> table.</p>
    </li>
    <li>
      <p>Adding fields with <code>register_rest_field</code> and <code>register_meta</code></p>
    </li>
    <li>
      <p>Adding links with <code>WP_REST_Response::add_link()</code></p>
    </li>
  </ul>
</section>